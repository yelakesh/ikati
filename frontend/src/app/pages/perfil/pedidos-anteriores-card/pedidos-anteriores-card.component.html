<div class="mb-3">
    <div class="card shadow">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <h4 class="card-title mb-4">Mis compras</h4>
        </div>
  
        <hr style="color: #F4B860; ">
  
        <div class="d-flex flex-column align-items-start mt-2 gap-4 w-100">
          <div class="card shadow w-100" *ngFor="let item of compras">
            <div class="card-body">

                <div class="mb-3">
                <p class="mb-1"><strong>Fecha:</strong> {{ item.compra.fecha | date:'mediumDate' }}</p>
                <p class="mb-1"><strong>Importe:</strong> {{ item.compra.importe | currency:'EUR' }}</p>
                <p class="mb-1" *ngIf="item.compra.id_cupon"><strong>Cup√≥n:</strong> #{{ item.compra.id_cupon }}</p>
              </div>
  
              <hr>
  
              <div class="mt-3" *ngFor="let producto of item.compra.productos" class="d-flex mb-4 gap-3">
                <div style="min-width: 100px;">
                  <img
                    [src]="'http://localhost:3000/imagenesProductos/' + producto.producto.imagenes[0]?.nombre"
                    class="img-fluid rounded"
                    alt="{{ producto.producto.producto.nombre }}"
                    style="max-width: 100px;"
                  />
                </div>
  
                <div>
                  <h6 class="mb-1">{{ producto.producto.producto.nombre }}</h6>
                  <small class="text-muted">
                    {{ producto.producto.marca.nombre }} - {{ producto.producto.tipo_producto.tipo }}
                  </small>
  
                  <div class="mt-2 ms-2" *ngFor="let variante of producto.variantes">
                    <p class="mb-1">
                      <strong>Variante:</strong> {{ variante.valor_variacion }} |
                      <strong>Cantidad:</strong> {{ variante.cantidad }} |
                      <strong>Precio:</strong> {{ variante.precio | currency:'EUR' }}
                    </p>
                  </div>
                </div>
              </div>
  
            </div>
          </div>
        </div>
  
      </div>
    </div>
  </div>
  